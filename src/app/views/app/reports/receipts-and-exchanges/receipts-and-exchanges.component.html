
<div class="card">
  <div class="card-body">
    <h3>صرف وقبض </h3>
    <div class="row">
      <div class="col-md-4">
        <label>العميل</label>
        <ng-select [(ngModel)]="filter.ClientId" [ngModelOptions]="{standalone: true}" [closeOnSelect]="true" name="Client"
          (change)="Get()">
          <ng-option *ngFor="let Client of Clients" [value]="Client.id">{{Client.name}}</ng-option>
        </ng-select>
        <br>
       
        
      </div>
     
      <section class="example-section">
        <mat-checkbox class="example-margin" [(ngModel)]="exchange"  (change)="Get()">&nbsp;صرف</mat-checkbox>
        <mat-checkbox class="example-margin" [(ngModel)]="receipt" (change)="Get()">&nbsp; قبض</mat-checkbox>

      </section>
     
    </div>
  </div>
</div>
    <div class="example-container mat-elevation-z8" >
    
      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8"
      (onPageSwitch)="switchPage($event)">

        <ng-container matColumnDef="clientName">
          <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-right: 10px;"> العميل </th>
          <td mat-cell *matCellDef="let element" style="padding-right: 10px;"> {{element.clientName}}</td>
        </ng-container>
        <ng-container matColumnDef="amount">
            <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-right: 10px;"> المبلغ </th>
            <td mat-cell *matCellDef="let element" style="padding-right: 10px;"> {{element.isPay==true?element.amount*(-1):element.amount}}</td>
          </ng-container>
          <ng-container matColumnDef="isPay">
            <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-right: 10px;"> صرف/قبض </th>
            <td mat-cell *matCellDef="let element" style="padding-right: 10px;"> {{element.isPay==true?'صرف':'قبض'}}</td>
          </ng-container>
          <ng-container matColumnDef="about">
            <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-right: 10px;"> وذلك عن </th>
            <td mat-cell *matCellDef="let element" style="padding-right: 10px;"> {{element.about}}</td>
          </ng-container>
          <ng-container matColumnDef="date">
            <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-right: 10px;"> التاريخ </th>
            <td mat-cell *matCellDef="let element" style="padding-right: 10px;"> {{element.date}}</td>
          </ng-container>
          <ng-container matColumnDef="printId">
            <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-right: 10px;"> رقم الطباعة </th>
            <td mat-cell *matCellDef="let element" style="padding-right: 10px;"> {{element.printId}}</td>
          </ng-container>
          <ng-container matColumnDef="manager">
            <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-right: 10px;"> المدير </th>
            <td mat-cell *matCellDef="let element" style="padding-right: 10px;"> {{element.manager}}</td>
          </ng-container>
          <ng-container matColumnDef="createdBy">
            <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-right: 10px;"> تم الإنشاء بواسطة </th>
            <td mat-cell *matCellDef="let element" style="padding-right: 10px;"> {{element.createdBy}}</td>
          </ng-container>
          <ng-container matColumnDef="note">
            <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-right: 10px;"> ملاحظات </th>
            <td mat-cell *matCellDef="let element" style="padding-right: 10px;"> {{element.note}}</td>
          </ng-container>
          <ng-container matColumnDef="delete">
            <th mat-header-cell *matHeaderCellDef mat-sort-header style="padding-right: 10px;"> حذف </th>
            <td mat-cell *matCellDef="let element" style="padding-right: 10px;">
              <svg (click)="delete(element)" [disabled]="element.printId!=null" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
              class="bi bi-trash" viewBox="0 0 16 16" style="cursor: pointer;">
              <path
                d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z" />
              <path fill-rule="evenodd"
                d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" />
            </svg>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>        
      </table>
     
     <h5 style="padding-top: 20px; padding-right: 10px;"  *ngIf="noDataFound">لايوجد بيانات للعرض</h5>
      
      </div>
      <mat-paginator showFirstLastButtons [length]="totalCount" [pageSize]="paging.RowCount"
      [pageSizeOptions]="paging.selectItemsPerPage" (page)="switchPage($event)"></mat-paginator>
    
    <simple-notifications></simple-notifications>
