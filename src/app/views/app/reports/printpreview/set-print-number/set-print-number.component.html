<div class="card">
    <div class="card-body"> 
        <h3>عرض شحنات حسب رقم الطباعة للمندوب</h3>
        <div class="row">
          
            <div class="col-md-3"  *ngIf="!showPrintbtn" >
                <label>رقم الطباعة</label>
                <input type="text" class="form-control" [ngModelOptions]="{standalone: true}"
                [(ngModel)]="printnumber" >
                <br>
                <button (click)="changeDeleiverMoneyForClient()"class="btn btn-primary">ارسال</button>
            
            </div>
            <div class="col-md-3"  *ngIf="showPrintbtn"  >
                <button printSectionId="printpage" class="btn btn-primary" styleSheetFile="/assets/css/vendor/bootstrap.min.css"
                 [useExistingCss]="true" ngxPrint>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-printer"
                        viewBox="0 0 16 16" >
                        <path d="M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z" />
                        <path
                            d="M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z" />
                    </svg> &nbsp;طباعة 
            </button>

            <button  class="btn btn-primary" (click)="convetToPDF()">
           <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-printer"
                   viewBox="0 0 16 16" >
                   <path d="M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z" />
                   <path
                       d="M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z" />
               </svg> &nbsp;تحميل 
       </button>
            <app-receipt-agent id="printpage" [orders]="orders" [agent]="agent"[phones]="phones" 
    [printnumber]="printnumber" [hidden]="true"></app-receipt-agent>
            </div>
           
        </div>
    </div>
    </div>


<div class="card" style="text-align: right;" *ngIf="showPrintbtn" id="contentToConvert">
    

    <div class="card-body">
        <div class="row ">
            <div class="col-md-4" style="text-align: right;">
                <table >

                    <tr>
                        <td >
                            رقم الطباعة :
                        </td>
                        <td >
                            {{printnumber}}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            مستخدم الطابعة :
                        </td>
                        <td >
                            {{userName.name}}
                        </td>
                    </tr>
                    <tr>
                        <td >
                            تاريخ الطباعة :
                        </td>
                        <td >
                            {{dateOfPrint | date:"dd/MM/yyyy"}}
                        </td>
                    </tr>
                    <tr>
                        <td >
                            وقت الطباعة :
                        </td>
                        <td >
                            {{dateOfPrint | date:"HH:mm:ss"}}
                        </td>
                    </tr>


                </table>

            </div>
            <div class="col-md-5">
                <img [src]="sanitizer.bypassSecurityTrustUrl('/assets/logos/kokaz.PNG')" width="150px" height="125px"
                style="margin-right: 20%;" />
            </div>
            <div class="col-md-3" style="text-align: right;">
                <h3>
                    كشف حساب المندوب : {{agent!=null||agent!=undefined?agent:null}}
                    <br>
                    رقم هاتف المندوب :{{phones}}
                   <!--
                       <div *ngFor="let phone of agent.phones">
                        {{phone.phone}}
                    </div>
                   --> 
                    <br>
                    <div *ngIf="orderplaced!=null||orderplaced!=undefined">
                       {{orderplaced.name}}
                    </div>
                </h3>

                
            </div>

           
        </div>
        <table >

            <thead>

                <th *ngFor="let head of heads" style="font-size: 20px;">{{head}}</th>
            </thead>
            <tbody>

                <tr *ngFor="let order of orders;index as i">
                    <td>
                        {{i+1}}
                      </td>
                      <td>
                          {{order.code}}
                      </td>
                      <td>
                          {{order.total}}
                      </td>
                      <td>
                          {{order.country}}
                      </td>
                      <td>
                          {{order.phone}}
                      </td>
                     
                      <td>
                          {{order.note}}
                      </td>
                </tr>


                <tr class=" table-bordered trbordered" style="font-size: 18px;">
                    <td colspan="2">
                        الإجمالي :
                    </td>
                    <td colspan="6">
                        <!----> {{ count}}
                    </td>

                </tr>
            </tbody>

        </table>
    </div>
</div>



<simple-notifications></simple-notifications>