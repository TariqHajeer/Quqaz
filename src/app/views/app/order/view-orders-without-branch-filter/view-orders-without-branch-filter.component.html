<div class="card">
    <div class="card-body">
        <h3>بحث الطلب بكل الأفرع</h3>
        <div class="row">
            <div class="col-5">
                <label>كود الشحنة</label>
                <input type="text" class="form-control" [ngModelOptions]="{ standalone: true }" [(ngModel)]="code"
                    (keyup.enter)="getOrders()" />

            </div>
            <div class="col-2 mt-3">
                <button class="btn btn-primary" (click)="getOrders()">
                    اضافة
                </button>
            </div>
        </div>
    </div>
</div>
<div class="example-container mat-elevation-z8">
    <table mat-table [dataSource]="dataSource">

        <ng-container matColumnDef="code">
            <th mat-header-cell *matHeaderCellDef style="padding-right: 10px;"> كود </th>
            <td mat-cell *matCellDef="let element" style="padding-right: 10px;"> {{element.code}}</td>
        </ng-container>
        <ng-container matColumnDef="deliveryCost">
            <th mat-header-cell *matHeaderCellDef> تكلفة التوصيل</th>
            <td mat-cell *matCellDef="let element" style="padding:10px;"> {{element.deliveryCost}}</td>
        </ng-container>
        <ng-container matColumnDef="cost">
            <th mat-header-cell *matHeaderCellDef> كلفة الطلب</th>
            <td mat-cell *matCellDef="let element" style="padding:10px;"> {{element.cost}}</td>
        </ng-container>
        <ng-container matColumnDef="oldCost">
            <th mat-header-cell *matHeaderCellDef> الكلفة القديمة</th>
            <td mat-cell *matCellDef="let element" style="padding:10px;"> {{element.oldCost}}</td>
        </ng-container>
        <ng-container matColumnDef="recipientName">
            <th mat-header-cell *matHeaderCellDef> اسم المستلم</th>
            <td mat-cell *matCellDef="let element" style="padding:10px;"> {{element.recipientName}}</td>
        </ng-container>


        <ng-container matColumnDef="recipientPhones">
            <th mat-header-cell *matHeaderCellDef style="width: 30px;"> رقم المستلم</th>
            <td mat-cell *matCellDef="let element" style="width: 100px;padding:10px;"> {{element.recipientPhones}}</td>
        </ng-container>

        <ng-container matColumnDef="client">
            <th mat-header-cell *matHeaderCellDef style="padding:10px;"> اسم العميل</th>
            <td mat-cell *matCellDef="let element" style="padding:10px;">
                {{element.client!=null?element.client.name:null}}
                / {{element.branchName}}
            </td>
        </ng-container>
        <ng-container matColumnDef="CurrentBranch">
            <th mat-header-cell *matHeaderCellDef style="padding:10px;"> الفرع الحالي</th>
            <td mat-cell *matCellDef="let element" style="padding:10px;"> {{element.currentBrnach
                !=null?element.currentBrnach.name:null}}
            </td>
        </ng-container>

        <ng-container matColumnDef="clientPrintNumber">
            <th mat-header-cell *matHeaderCellDef style="padding:10px;"> اخر رقم طباعة للعميل</th>
            <td mat-cell *matCellDef="let element" style="padding:10px;"> {{element.clientPrintNumber}}</td>
        </ng-container>
        <ng-container matColumnDef="country">
            <th mat-header-cell *matHeaderCellDef> المدينة</th>
            <td mat-cell *matCellDef="let element" style="padding:10px;">
                {{element.country!=null?element.country.name:null}}
            </td>
        </ng-container>
        <ng-container matColumnDef="region">
            <th mat-header-cell *matHeaderCellDef> المنطقة</th>
            <td mat-cell *matCellDef="let element" style="padding:10px;">
                {{element.region!=null?element.region.name:null}}
            </td>
        </ng-container>
        <ng-container matColumnDef="agent">
            <th mat-header-cell *matHeaderCellDef style="padding:10px;"> المندوب</th>
            <td mat-cell *matCellDef="let element" style="padding:10px;">
                {{element.agent!=null?element.agent.name:null}}
            </td>
        </ng-container>
        <ng-container matColumnDef="agentPrintNumber">
            <th mat-header-cell *matHeaderCellDef style="padding:10px;"> اخر رقم طباعة للمندوب</th>
            <td mat-cell *matCellDef="let element" style="padding:10px;"> {{element.agentPrintNumber}}</td>
        </ng-container>


        <ng-container matColumnDef="monePlaced">
            <th mat-header-cell *matHeaderCellDef style="padding:10px;"> موقع المبلغ</th>
            <td mat-cell *matCellDef="let element" style="padding:10px;">
                {{element.dispalyMoneyPlace}}</td>
        </ng-container>
        <ng-container matColumnDef="orderplaced">
            <th mat-header-cell *matHeaderCellDef style="padding:10px;"> حالة الشحنة</th>
            <td mat-cell *matCellDef="let element" style="padding:10px;">
                {{element.dispalyOrderplaced}}</td>
        </ng-container>

        <ng-container matColumnDef="address">
            <th mat-header-cell *matHeaderCellDef> العنوان</th>
            <td mat-cell *matCellDef="let element" style="padding:10px;"> {{element.address}}</td>
        </ng-container>
        <ng-container matColumnDef="createdBy">
            <th mat-header-cell *matHeaderCellDef> بواسطة</th>
            <td mat-cell *matCellDef="let element" style="padding:10px;"> {{element.createdBy}}</td>
        </ng-container>
        <ng-container matColumnDef="date">
            <th mat-header-cell *matHeaderCellDef> التاريخ</th>
            <td mat-cell *matCellDef="let element" style="padding:10px;"> {{element.date| date: 'yyyy/MM/dd'}}</td>
        </ng-container>


        <ng-container matColumnDef="diliveryDate">
            <th mat-header-cell *matHeaderCellDef style="padding:10px;"> تاريخ التوصيل</th>
            <td mat-cell *matCellDef="let element" style="padding:10px;"> {{element.diliveryDate| date: 'yyyy/MM/dd'}}
            </td>
        </ng-container>
        <ng-container matColumnDef="note">
            <th mat-header-cell *matHeaderCellDef style="padding:10px "> ملاحظات</th>
            <td mat-cell *matCellDef="let element" style="padding:10px"> {{element.note}}</td>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <simple-notifications></simple-notifications>


    <h5 style="padding-top: 20px; padding-right: 10px;" *ngIf="this.orders.length==0"> لايوجد طلبات للعرض</h5>

</div>
<simple-notifications></simple-notifications>